# =============================================================================
# CHAT SERVICE - PRODUCTION ENVIRONMENT
# =============================================================================
# This file contains service-specific overrides for production
# Inherits from root .env file
# =============================================================================

# Service Configuration
NODE_ENV=production
PORT=3002
SERVICE_NAME=chat-service

# Database (Uses shared PostgreSQL)
DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/saas_db?schema=public

# Redis (Uses shared Redis)
REDIS_URL=redis://redis:6379/1
REDIS_PASSWORD=
REDIS_DB=1

# Auth Configuration
AUTH_SECRET=${AUTH_SECRET}
AUTH_SERVICE_URL=http://auth-service:3001

# AI Provider Keys
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_ORG_ID=${OPENAI_ORG_ID}
OPENAI_MODEL=gpt-4
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
GOOGLE_API_KEY=${GOOGLE_API_KEY}
GOOGLE_MODEL=gemini-pro
GROQ_API_KEY=${GROQ_API_KEY}
GROQ_MODEL=llama2-70b-4096

# Billing Integration
BILLING_SERVICE_URL=http://billing-service:3003

# Orchestrator Integration
ORCHESTRATOR_SERVICE_URL=http://orchestrator-service:3006

# Chat Configuration
MAX_MESSAGE_LENGTH=10000
MAX_CONTEXT_MESSAGES=10
DEFAULT_MODEL=gpt-4
STREAM_ENABLED=true

# Token Limits
MAX_TOKENS_PER_REQUEST=4000
MAX_TOKENS_PER_DAY_FREE=100000
MAX_TOKENS_PER_DAY_PRO=1000000

# Monitoring
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Distributed Tracing
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
JAEGER_SERVICE_NAME=chat-service

# Logging
LOG_LEVEL=info

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=60

# Caching
CACHE_TTL=3600
RESPONSE_CACHE_ENABLED=true

# Health Check
HEALTH_CHECK_ENABLED=true

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=30000
WEBSOCKET_PING_TIMEOUT=5000
